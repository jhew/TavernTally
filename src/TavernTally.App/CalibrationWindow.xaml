<Window x:Class="TavernTally.App.CalibrationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TavernTally - Overlay Calibration"
        Width="800" Height="650"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#f5f5f5">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#2c3e50" Padding="15,10">
            <StackPanel>
                <TextBlock Text="Overlay Calibration" FontSize="18" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Adjust overlay positions for your Hearthstone setup" FontSize="12" Foreground="#ecf0f1" Margin="0,2,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                
                <!-- Instructions -->
                <Border Background="White" BorderBrush="#bdc3c7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="📋 Instructions" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                        <TextBlock TextWrapping="Wrap" LineHeight="20">
                            1. Start Hearthstone and open a Battlegrounds game<LineBreak/>
                            2. Use the sliders below to fine-tune overlay positions<LineBreak/>
                            3. Click "Test Overlay" to see live preview<LineBreak/>
                            4. Save your settings when positioned correctly<LineBreak/><LineBreak/>
                            <Run FontWeight="Bold" Foreground="#27ae60">Responsive:</Run> The overlay automatically adapts to different screen sizes and resolutions. These settings serve as base values for fine-tuning.<LineBreak/>
                            <Run FontWeight="Bold" Foreground="#e67e22">Note:</Run> The overlay only appears during shop/recruit phases in actual gameplay.
                        </TextBlock>
                    </StackPanel>
                </Border>
                
                <!-- Position Controls -->
                <Border Background="White" BorderBrush="#bdc3c7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="🎯 Position Settings" FontSize="14" FontWeight="Bold" Margin="0,0,0,15"/>
                        
                        <!-- Shop Row -->
                        <Grid Margin="0,0,0,15">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Shop Y Position:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <Slider Grid.Row="0" Grid.Column="1" x:Name="ShopYSlider" Minimum="0" Maximum="1" Value="0.19" 
                    TickFrequency="0.01" IsSnapToTickEnabled="True" Margin="10,0"/>
            <TextBlock Grid.Row="0" Grid.Column="2" x:Name="ShopYValue" Text="19%" HorizontalAlignment="Center" VerticalAlignment="Center"/>                            <TextBlock Grid.Row="1" Grid.Column="1" Text="Position from top of Hearthstone window (tavern shop area)" 
                                       FontSize="10" Foreground="#7f8c8d" Margin="10,2,0,0"/>
                        </Grid>
                        
                        <!-- Board Row -->
                        <Grid Margin="0,0,0,15">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Board Y Position:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <Slider Grid.Row="0" Grid.Column="1" x:Name="BoardYSlider" Minimum="0" Maximum="1" Value="0.50" 
                    TickFrequency="0.01" IsSnapToTickEnabled="True" Margin="10,0"/>
            <TextBlock Grid.Row="0" Grid.Column="2" x:Name="BoardYValue" Text="50%" HorizontalAlignment="Center" VerticalAlignment="Center"/>                            <TextBlock Grid.Row="1" Grid.Column="1" Text="Position for your minion board area" 
                                       FontSize="10" Foreground="#7f8c8d" Margin="10,2,0,0"/>
                        </Grid>
                        
                        <!-- Hand Row -->
                        <Grid Margin="0,0,0,15">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Hand Y Position:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <Slider Grid.Row="0" Grid.Column="1" x:Name="HandYSlider" Minimum="0" Maximum="1" Value="0.86" 
                    TickFrequency="0.01" IsSnapToTickEnabled="True" Margin="10,0"/>
            <TextBlock Grid.Row="0" Grid.Column="2" x:Name="HandYValue" Text="86%" HorizontalAlignment="Center" VerticalAlignment="Center"/>                            <TextBlock Grid.Row="1" Grid.Column="1" Text="Position for your hand card area" 
                                       FontSize="10" Foreground="#7f8c8d" Margin="10,2,0,0"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Global Adjustments -->
                <Border Background="White" BorderBrush="#bdc3c7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="⚙️ Global Adjustments" FontSize="14" FontWeight="Bold" Margin="0,0,0,15"/>
                        
                        <!-- UI Scale -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="UI Scale:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Slider Grid.Column="1" x:Name="ScaleSlider" Minimum="0.5" Maximum="2.0" Value="1.0" 
                                    TickFrequency="0.1" IsSnapToTickEnabled="True" Margin="10,0"/>
                            <TextBlock Grid.Column="2" x:Name="ScaleValue" Text="100%" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                        
                        <!-- Global Offset X -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Offset X:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Slider Grid.Column="1" x:Name="OffsetXSlider" Minimum="-100" Maximum="100" Value="0" 
                                    TickFrequency="1" IsSnapToTickEnabled="True" Margin="10,0"/>
                            <TextBlock Grid.Column="2" x:Name="OffsetXValue" Text="0px" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                        
                        <!-- Global Offset Y -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Offset Y:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Slider Grid.Column="1" x:Name="OffsetYSlider" Minimum="-100" Maximum="100" Value="0" 
                                    TickFrequency="1" IsSnapToTickEnabled="True" Margin="10,0"/>
                            <TextBlock Grid.Column="2" x:Name="OffsetYValue" Text="0px" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Preview Controls -->
                <Border Background="White" BorderBrush="#bdc3c7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="👁️ Preview &amp; Testing" FontSize="14" FontWeight="Bold" Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <Button Grid.Column="0" x:Name="TestOverlayButton" Content="🔍 Test Overlay (5 sec)" 
                                    Padding="10,8" Background="#3498db" Foreground="White" BorderThickness="0" 
                                    FontWeight="SemiBold" Click="TestOverlayButton_Click"/>
                            
                            <Button Grid.Column="2" x:Name="ResetButton" Content="🔄 Reset to Defaults" 
                                    Padding="10,8" Background="#95a5a6" Foreground="White" BorderThickness="0" 
                                    FontWeight="SemiBold" Click="ResetButton_Click"/>
                        </Grid>
                        
                        <!-- Test Configuration -->
                        <StackPanel Margin="0,15,0,0">
                            <TextBlock Text="Test Configuration:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                    <TextBlock Text="Shop:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <ComboBox x:Name="TestShopCombo" SelectedIndex="2" Width="50">
                                        <ComboBoxItem Content="3"/>
                                        <ComboBoxItem Content="4"/>
                                        <ComboBoxItem Content="5"/>
                                        <ComboBoxItem Content="6"/>
                                        <ComboBoxItem Content="7"/>
                                    </ComboBox>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                    <TextBlock Text="Board:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <ComboBox x:Name="TestBoardCombo" SelectedIndex="3" Width="50">
                                        <ComboBoxItem Content="1"/>
                                        <ComboBoxItem Content="2"/>
                                        <ComboBoxItem Content="3"/>
                                        <ComboBoxItem Content="4"/>
                                        <ComboBoxItem Content="5"/>
                                        <ComboBoxItem Content="6"/>
                                        <ComboBoxItem Content="7"/>
                                    </ComboBox>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="4" Orientation="Horizontal">
                                    <TextBlock Text="Hand:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <ComboBox x:Name="TestHandCombo" SelectedIndex="4" Width="50">
                                        <ComboBoxItem Content="1"/>
                                        <ComboBoxItem Content="2"/>
                                        <ComboBoxItem Content="3"/>
                                        <ComboBoxItem Content="4"/>
                                        <ComboBoxItem Content="5"/>
                                        <ComboBoxItem Content="6"/>
                                        <ComboBoxItem Content="7"/>
                                        <ComboBoxItem Content="8"/>
                                        <ComboBoxItem Content="9"/>
                                        <ComboBoxItem Content="10"/>
                                    </ComboBox>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Footer Buttons -->
        <Border Grid.Row="2" Background="#ecf0f1" BorderBrush="#bdc3c7" BorderThickness="0,1,0,0" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="100"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" x:Name="StatusText" Text="Ready to calibrate..." VerticalAlignment="Center" 
                           FontStyle="Italic" Foreground="#7f8c8d"/>
                
                <Button Grid.Column="2" x:Name="SaveButton" Content="💾 Save" 
                        Padding="15,8" Background="#27ae60" Foreground="White" BorderThickness="0" 
                        FontWeight="SemiBold" Click="SaveButton_Click"/>
                
                <Button Grid.Column="4" x:Name="CancelButton" Content="❌ Cancel" 
                        Padding="15,8" Background="#e74c3c" Foreground="White" BorderThickness="0" 
                        FontWeight="SemiBold" Click="CancelButton_Click"/>
            </Grid>
        </Border>
        
    </Grid>
</Window>
