<Window x:Class="TavernTally.App.LoggingSetupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TavernTally - Logging Setup"
        Width="600" Height="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#f5f5f5"
        Icon="app.ico">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#2c3e50" Padding="15,10">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="â„¹" FontSize="24" Foreground="#3498db" Margin="0,0,10,0" VerticalAlignment="Center"/>
                <StackPanel>
                    <TextBlock Text="Hearthstone Logging Setup" FontSize="18" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="Configure Hearthstone to enable game tracking" FontSize="12" Foreground="#ecf0f1" Margin="0,2,0,0"/>
                </StackPanel>
            </StackPanel>
        </Border>
        
        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                
                <!-- Status Message -->
                <Border Background="#fff3cd" BorderBrush="#ffeaa7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock x:Name="StatusText" FontWeight="Bold" Foreground="#856404" Margin="0,0,0,5"/>
                        <TextBlock x:Name="StatusDetails" TextWrapping="Wrap" Foreground="#856404"/>
                    </StackPanel>
                </Border>
                
                <!-- Auto-Configure Section -->
                <Border Background="#d4edda" BorderBrush="#c3e6cb" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸš€ Recommended: Automatic Setup" FontSize="14" FontWeight="Bold" Foreground="#155724" Margin="0,0,0,10"/>
                        <TextBlock TextWrapping="Wrap" Foreground="#155724" Margin="0,0,0,15">
                            TavernTally can automatically configure Hearthstone logging for you. This will create the necessary configuration file in your Hearthstone installation directory.
                        </TextBlock>
                        <Button x:Name="AutoConfigureButton" 
                                Content="Auto-Configure Logging" 
                                Background="#28a745" 
                                Foreground="White" 
                                BorderBrush="#28a745"
                                Padding="15,8" 
                                FontWeight="Bold"
                                Click="AutoConfigureButton_Click"/>
                        <TextBlock x:Name="AutoConfigStatus" 
                                   TextWrapping="Wrap" 
                                   Foreground="#155724" 
                                   Margin="0,10,0,0" 
                                   Visibility="Collapsed"/>
                    </StackPanel>
                </Border>
                
                <!-- Manual Instructions -->
                <Border Background="White" BorderBrush="#bdc3c7" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ“‹ Manual Setup Instructions" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                        <TextBlock TextWrapping="Wrap" LineHeight="20" Margin="0,0,0,15">
                            If automatic setup doesn't work, you can manually configure logging:
                        </TextBlock>
                        
                        <TextBlock Text="1. Close Hearthstone completely" FontWeight="Bold" Margin="0,5,0,2"/>
                        
                        <TextBlock Text="2. Navigate to your Hearthstone installation folder" FontWeight="Bold" Margin="0,10,0,2"/>
                        <TextBlock TextWrapping="Wrap" Foreground="#666" Margin="10,0,0,5">
                            Common locations:<LineBreak/>
                            â€¢ C:\Program Files (x86)\Hearthstone\<LineBreak/>
                            â€¢ C:\Program Files\Hearthstone\<LineBreak/>
                            â€¢ Steam: steamapps\common\Hearthstone\
                        </TextBlock>
                        
                        <TextBlock Text="3. Create a file called 'log.config' with the following content:" FontWeight="Bold" Margin="0,10,0,2"/>
                        <Border Background="#f8f9fa" BorderBrush="#dee2e6" BorderThickness="1" CornerRadius="3" Padding="10" Margin="10,5,0,5">
                            <TextBlock FontFamily="Consolas" FontSize="11" TextWrapping="Wrap">
[Power]<LineBreak/>LogLevel=1<LineBreak/>FilePrinting=true<LineBreak/>ConsolePrinting=false<LineBreak/>ScreenPrinting=false
                            </TextBlock>
                        </Border>
                        
                        <TextBlock Text="4. Restart Hearthstone" FontWeight="Bold" Margin="0,10,0,2"/>
                        <TextBlock Text="5. Restart TavernTally" FontWeight="Bold" Margin="0,5,0,2"/>
                        
                        <TextBlock TextWrapping="Wrap" Foreground="#666" Margin="0,15,0,0">
                            The log file will be created at:<LineBreak/>
                            %LOCALAPPDATA%\Blizzard\Hearthstone\Logs\Power.log
                        </TextBlock>
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Footer Buttons -->
        <Border Grid.Row="2" Background="#ecf0f1" Padding="15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="OkButton" 
                        Content="OK" 
                        Background="#3498db" 
                        Foreground="White" 
                        BorderBrush="#3498db"
                        Padding="20,8" 
                        Margin="0,0,10,0"
                        IsDefault="True"
                        Click="OkButton_Click"/>
                <Button x:Name="CancelButton" 
                        Content="Skip Setup" 
                        Background="#95a5a6" 
                        Foreground="White" 
                        BorderBrush="#95a5a6"
                        Padding="20,8"
                        IsCancel="True"
                        Click="CancelButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
